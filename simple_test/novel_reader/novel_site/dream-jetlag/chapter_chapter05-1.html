<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5-1ï¼šç•¶é è¨€æˆçœŸï¼Œææ‡¼æ‰çœŸæ­£é–‹å§‹ã€‚ - å¤¢å¢ƒæ™‚å·®ï¼šä¸ƒå°è¬ä¿¡</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography,aspect-ratio,line-clamp"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA and SEO -->
    <meta name="theme-color" content="#f8fafc">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    
    <!-- ç”¨æ–¼éµç›¤å°è¦½ -->
    <link rel="prev" href="chapter_chapter05.html">
    <link rel="next" href="chapter_chapter05-2.html">
    <style>
        :root {
            --font-sans: 'Inter', sans-serif;
            --font-serif: 'Noto Serif TC', serif;
            
            /* è‰²å½©ä¸»é¡Œ */
            --bg-paper: #f8fafc; --text-paper: #334155; --border-paper: #e2e8f0; --link-paper: #475569; --active-bg-paper: #e2e8f0; --icon-fill-paper: #64748b;
            --bg-sepia: #f4f0e8; --text-sepia: #5f4b32; --border-sepia: #e9dec9; --link-sepia: #8a5a44; --active-bg-sepia: #e9dec9; --icon-fill-sepia: #5f4b32;
            --bg-night: #0f172a; --text-night: #94a3b8; --border-night: #334155; --link-night: #94a3b8; --active-bg-night: #1e293b; --icon-fill-night: #94a3b8;
        }

        .theme-paper { --bg-main: var(--bg-paper); --text-main: var(--text-paper); --border-main: var(--border-paper); --link-main: var(--link-paper); --active-bg-main: var(--active-bg-paper); --icon-fill: var(--icon-fill-paper); }
        .theme-sepia { --bg-main: var(--bg-sepia); --text-main: var(--text-sepia); --border-main: var(--border-sepia); --link-main: var(--link-sepia); --active-bg-main: var(--active-bg-sepia); --icon-fill: var(--icon-fill-sepia); }
        .theme-night { --bg-main: var(--bg-night); --text-main: var(--text-night); --border-main: var(--border-night); --link-main: var(--link-night); --active-bg-main: var(--active-bg-night); --icon-fill: var(--icon-fill-night); }
        
        body { font-family: var(--font-sans); background-color: var(--bg-main); color: var(--text-main); transition: background-color 0.4s ease, color 0.4s ease; }
        
        .prose { font-family: var(--font-serif); color: var(--text-main); transition: all 0.3s ease; }
        .prose p { font-size: 1.125rem; line-height: 2; letter-spacing: 0.05em; transition: font-size 0.3s ease, line-height 0.3s ease, letter-spacing 0.3s ease; }
        .prose h1, .prose h2, .prose h3 { font-family: var(--font-sans); color: var(--text-main); }
        
        .theme-switcher-btn svg, .setting-btn svg, #fullscreen-btn svg { fill: var(--icon-fill); transition: fill 0.3s ease; }
        .theme-switcher-btn:hover svg, .setting-btn:hover svg, #fullscreen-btn:hover svg, .theme-switcher-btn.active svg { fill: var(--text-main); }

        .nav-btn { font-family: var(--font-sans); color: var(--link-main); padding: 0.5rem 1rem; border-radius: 0.5rem; transition: background-color 0.3s, color 0.3s; font-weight: 500; }
        .nav-btn:hover { background-color: var(--active-bg-main); color: var(--text-main); }

        /* é¸å–®èˆ‡æ²è»¸æ¨£å¼ */
        #sidebar, #menu, #content-container { scrollbar-width: thin; scrollbar-color: var(--border-main) transparent; }
        #sidebar::-webkit-scrollbar, #menu::-webkit-scrollbar, #content-container::-webkit-scrollbar { width: 5px; }
        #sidebar::-webkit-scrollbar-track, #menu::-webkit-scrollbar-track, #content-container::-webkit-scrollbar-track { background: transparent; }
        #sidebar::-webkit-scrollbar-thumb, #menu::-webkit-scrollbar-thumb, #content-container::-webkit-scrollbar-thumb { background-color: var(--border-main); border-radius: 20px; }

        /* å´é‚Šæ¬„æ”¶åˆå‹•ç•« */
        #sidebar { transition: margin-left 0.3s ease-in-out; }
        .sidebar-collapsed #sidebar { margin-left: -18rem; } /* w-72 */
        @media (min-width: 1024px) { .sidebar-collapsed #sidebar { margin-left: -20rem; } } /* lg:w-80 */
        
        .sub-nav-container { max-height: 1000px; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .sub-nav-container.hidden { max-height: 0; }
        
        /* å­—é«”å¤§å° */
        .font-size-sm .prose p { font-size: 1rem; }
        .font-size-md .prose p { font-size: 1.125rem; }
        .font-size-lg .prose p { font-size: 1.25rem; }

        /* å­—é«”é¢¨æ ¼ */
        .font-family-serif .prose { font-family: var(--font-serif); }
        .font-family-sans .prose { font-family: var(--font-sans); }
        .font-family-sans .prose p { letter-spacing: 0.025em; }

        /* ã€æ–°å¢ã€‘è¡Œé«˜ */
        .line-height-tight .prose p { line-height: 1.7; }
        .line-height-normal .prose p { line-height: 2; }
        .line-height-loose .prose p { line-height: 2.3; }

        /* ã€æ–°å¢ã€‘å­—è· */
        .letter-spacing-tight .prose p { letter-spacing: 0.025em; }
        .letter-spacing-normal .prose p { letter-spacing: 0.05em; }
        .letter-spacing-loose .prose p { letter-spacing: 0.075em; }

        /* ã€æ–°å¢ã€‘é é¢é‚Šè· */
        .page-margin-narrow .prose { max-width: 48rem; } /* max-w-3xl */
        .page-margin-normal .prose { max-width: 42rem; } /* max-w-2xl */
        .page-margin-wide .prose { max-width: 36rem; } /* max-w-xl */
    </style>
</head>
<body class="theme-paper font-size-md font-family-serif line-height-normal letter-spacing-normal page-margin-normal" data-novel-id="dream-jetlag">

    <div id="progress-bar-container" class="fixed top-0 left-0 w-full h-1 z-20">
        <div id="progress-bar" class="h-full bg-blue-500 transition-all duration-150" style="width: 0%;"></div>
    </div>

    <div id="app-container" class="flex h-screen bg-[var(--bg-main)] overflow-hidden">
        <aside id="sidebar" class="hidden md:flex flex-col w-72 lg:w-80 bg-transparent border-r border-[var(--border-main)] flex-shrink-0">
            <div class="p-4 border-b border-[var(--border-main)] flex-shrink-0">
                <a href="../index.html" class="flex items-center gap-2 text-[var(--link-main)] hover:text-[var(--text-main)] transition-colors duration-300 font-medium">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
                    è¿”å›æ›¸åº«
                </a>
            </div>
            <!-- ã€æ–°å¢ã€‘ç« ç¯€æœå°‹æ¡† -->
            <div class="p-4 border-b border-[var(--border-main)]">
                <input type="search" id="desktop-chapter-search" placeholder="æœå°‹ç« ç¯€..." class="w-full px-3 py-2 text-sm bg-transparent border border-[var(--border-main)] rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none text-[var(--text-main)] placeholder-[var(--link-main)]">
            </div>
            <div id="desktop-chapter-list-container" class="flex-1 p-4 overflow-y-auto">
                <div class="aspect-w-3 aspect-h-4 mb-4"><img src="cover.jpg" alt="å¤¢å¢ƒæ™‚å·®ï¼šä¸ƒå°è¬ä¿¡ å°é¢" class="w-full h-full object-cover rounded-lg shadow-md"></div>
                <h2 class="text-xl font-bold mb-4 text-[var(--text-main)]">å¤¢å¢ƒæ™‚å·®ï¼šä¸ƒå°è¬ä¿¡</h2>
                <nav id="chapter-list">
                    <a href="chapter_chapter00.html" class="chapter-link block p-3 rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">ğŸ“–åºç« ï¼šã€Šå“‡å“‡å“‡ï¼å¥‡äººç•°äº‹ï¼ã€‹å•Ÿå‹•ï¼</a><div class="chapter-group"><div class="chapter-toggle-btn flex justify-between items-center rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)] "><a href="chapter_chapter01.html" class="chapter-link flex-grow p-3">ğŸ“–ç¬¬ä¸€ç« ï¼šã€Šä»–åœ¨å¤¢è£¡å­¸å®Œäº† MIT å››å¹´èª²ç¨‹ã€‹å¤¢å‰µå”åŒï¼</a><button data-toggle-target="sub-nav-chapter_chapter01-html" class="chevron-btn flex-shrink-0 p-3" aria-expanded="false"><svg class="chevron-icon w-4 h-4 transition-transform duration-200 " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg></button></div><div id="sub-nav-chapter_chapter01-html" class="sub-nav-container mt-1 space-y-1 border-l-2 border-[var(--border-main)] pl-3 ml-4 hidden"><a href="chapter_chapter01-1.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">1-1ï¼šã€å“‡å“‡å“‡ï¼å¥‡äººç•°äº‹ï¼ã€‘å¤¢å‰µå”åŒ Ep1</a><a href="chapter_chapter01-2.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">1-2ï¼šç¬¬ä¸€å°ä¿¡</a></div></div><div class="chapter-group"><div class="chapter-toggle-btn flex justify-between items-center rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)] "><a href="chapter_chapter02.html" class="chapter-link flex-grow p-3">ğŸ“–ç¬¬äºŒç« ï¼šã€Šæ›´å¤§çš„æµé‡ï¼Œæ›´å¤§çš„å±éšªã€‹ç•™è¨€!</a><button data-toggle-target="sub-nav-chapter_chapter02-html" class="chevron-btn flex-shrink-0 p-3" aria-expanded="false"><svg class="chevron-icon w-4 h-4 transition-transform duration-200 " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg></button></div><div id="sub-nav-chapter_chapter02-html" class="sub-nav-container mt-1 space-y-1 border-l-2 border-[var(--border-main)] pl-3 ml-4 hidden"><a href="chapter_chapter02-1.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">2-1ï¼šæ·±æµ·å·¨æ€ª</a><a href="chapter_chapter02-2.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">2-2 èœ‚æ“è€Œè‡³</a></div></div><div class="chapter-group"><div class="chapter-toggle-btn flex justify-between items-center rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)] "><a href="chapter_chapter03.html" class="chapter-link flex-grow p-3">ğŸ“–ç¬¬ä¸‰ç« ï¼šã€Šè¼¿è«–çš„æ¼©æ¸¦ï¼Œå¤¢å¢ƒçš„åŠ å¯†ã€‹è¨—å¤¢ï¼</a><button data-toggle-target="sub-nav-chapter_chapter03-html" class="chevron-btn flex-shrink-0 p-3" aria-expanded="false"><svg class="chevron-icon w-4 h-4 transition-transform duration-200 " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg></button></div><div id="sub-nav-chapter_chapter03-html" class="sub-nav-container mt-1 space-y-1 border-l-2 border-[var(--border-main)] pl-3 ml-4 hidden"><a href="chapter_chapter03-1.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">3-1ï¼šç™¼ç‡’å½±ç‰‡</a><a href="chapter_chapter03-2.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">3-2ï¼šå¤¢å‰µå”åŒ Ep2 - ç¬¬ä¸€å€‹è­‰æ“š</a><a href="chapter_chapter03-3.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">3-3ï¼šé»‘æ›¸å·è»¸</a><a href="chapter_chapter03-4.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">3-4ï¼šæ—è§€è€…</a></div></div><div class="chapter-group"><div class="chapter-toggle-btn flex justify-between items-center rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)] "><a href="chapter_chapter04.html" class="chapter-link flex-grow p-3">ğŸ“–ç¬¬å››ç« ï¼šã€Šé è¨€è€…çš„å›è²ï¼Œèˆ‡ç˜‹ç‹‚çš„å•Ÿå‹•ï¼ã€‹</a><button data-toggle-target="sub-nav-chapter_chapter04-html" class="chevron-btn flex-shrink-0 p-3" aria-expanded="false"><svg class="chevron-icon w-4 h-4 transition-transform duration-200 " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg></button></div><div id="sub-nav-chapter_chapter04-html" class="sub-nav-container mt-1 space-y-1 border-l-2 border-[var(--border-main)] pl-3 ml-4 hidden"><a href="chapter_chapter04-1.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">4-1ï¼šç…ç†¬çš„ç­‰å¾…</a><a href="chapter_chapter04-2.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">4-2ï¼šå¤¢å‰µå”åŒ Ep3 - é è¨€è€…çš„å›è²</a><a href="chapter_chapter04-3.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">4-3ï¼š D.I.R.E</a><a href="chapter_chapter04-4.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">4-4ï¼šä¸‰ç™¼é è¨€</a></div></div><div class="chapter-group"><div class="chapter-toggle-btn flex justify-between items-center rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)] "><a href="chapter_chapter05.html" class="chapter-link flex-grow p-3">ğŸ“–ç¬¬äº”ç« ï¼šã€Šç•¶ä¿¡çœ¾ç‹‚ç†±ï¼ä¿¡ä»»çš„è£‚ç—•ï¼ã€‹</a><button data-toggle-target="sub-nav-chapter_chapter05-html" class="chevron-btn flex-shrink-0 p-3" aria-expanded="true"><svg class="chevron-icon w-4 h-4 transition-transform duration-200 rotate-90" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg></button></div><div id="sub-nav-chapter_chapter05-html" class="sub-nav-container mt-1 space-y-1 border-l-2 border-[var(--border-main)] pl-3 ml-4 "><a href="chapter_chapter05-1.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 bg-[var(--active-bg-main)] font-bold text-[var(--text-main)]">5-1ï¼šç•¶é è¨€æˆçœŸï¼Œææ‡¼æ‰çœŸæ­£é–‹å§‹ã€‚</a><a href="chapter_chapter05-2.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">5-2ï¼šæ•¸ä½ç‹©çµï¼šç•¶è¨Šæ¯æˆç‚ºæ­¦å™¨</a><a href="chapter_chapter05-3.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">5-3ï¼šæ²‰é»˜çš„ä»£åƒ¹ï¼Œå¦‚æœæˆ‘ä¸æ˜¯æˆ‘</a><a href="chapter_chapter05-4.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">5-4ï¼šå¤¢çš„å…¥å£ï¼Œç™¾å¼µåºŠ</a><a href="chapter_chapter05-5.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">5-5ï¼šå…ˆé‹’å¤¢å”è€…:ç‹¸ã€ç†Šã€å…”ã€é´‰</a><a href="chapter_chapter05-6.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">5-6ï¼šé›™é‡é€£å¤¢ï¼šåœ¨å¤¢ä¸­æŠµé”é€²éš</a></div></div><div class="chapter-group"><div class="chapter-toggle-btn flex justify-between items-center rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)] "><a href="chapter_chapter06.html" class="chapter-link flex-grow p-3">ğŸ“–ç¬¬å…­ç« ï¼šã€Šå¸«çˆºé§•åˆ°ï¼Œå…¨å“¡æ’¤é€€ï¼ã€‹</a><button data-toggle-target="sub-nav-chapter_chapter06-html" class="chevron-btn flex-shrink-0 p-3" aria-expanded="false"><svg class="chevron-icon w-4 h-4 transition-transform duration-200 " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg></button></div><div id="sub-nav-chapter_chapter06-html" class="sub-nav-container mt-1 space-y-1 border-l-2 border-[var(--border-main)] pl-3 ml-4 hidden"><a href="chapter_chapter06-1.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-1ï¼šå¸«çˆºçš„ç¾èº«</a><a href="chapter_chapter06-2.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-2ï¼šç¬¬å››å°ä¿¡</a><a href="chapter_chapter06-3.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-3ï¼šå¯æ¨‚å‘³çš„å¤¢å¢ƒè©¦ç…‰</a><a href="chapter_chapter06-4.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-4ï¼šOçš„å­¤è»å¥®æˆ°</a><a href="chapter_chapter06-5.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-5ï¼šè¨ˆç•«ä»£è™Ÿï¼šFLASH</a><a href="chapter_chapter06-6.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-6ï¼šä¼‘é–€èˆ‡ç”Ÿé–€</a><a href="chapter_chapter06-7.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-7ï¼šFLASHï¼</a><a href="chapter_chapter06-8.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-8 ï¼šé¦–çˆ¾å°é–ï¼Œå¤¢å¢ƒé¤˜æ³¢</a><a href="chapter_chapter06-9.html" class="chapter-link block p-2 rounded-md text-sm hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">6-9ï¼šå››è™Ÿå®‰å…¨å±‹</a></div></div><a href="letter_letter1.html" class="chapter-link block p-3 rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">âœ‰ï¸ ç¬¬ä¸€å°ä¿¡ã€Šä»–åœ¨å¤¢è£¡å­¸å®Œäº† MIT å››å¹´èª²ç¨‹ã€‹</a><a href="letter_letter2.html" class="chapter-link block p-3 rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">âœ‰ï¸ ç¬¬äºŒå°ä¿¡ã€Šä¾†è‡ªå¤¢å¢ƒçš„åŠ å¯†è¨Šæ¯ã€‹</a><a href="letter_letter3.html" class="chapter-link block p-3 rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">âœ‰ï¸ ç¬¬äºŒå°ä¿¡ã€Šé è¨€çš„è¿´éŸ¿ã€‹</a><a href="letter_letter4.html" class="chapter-link block p-3 rounded-md hover:bg-[var(--active-bg-main)] transition-colors duration-200 text-[var(--link-main)]">âœ‰ï¸ ç¬¬å››å°ä¿¡ã€Šå¤¢å¢ƒçš„çŸ›èˆ‡ç›¾ã€‹</a>
                </nav>
            </div>
        </aside>
        
        <main class="flex-1 flex flex-col overflow-hidden">
            <header class="bg-transparent p-4 flex justify-between items-center z-10 flex-shrink-0">
                <div class="flex items-center gap-2">
                    <button id="sidebar-toggle-btn" class="hidden md:block p-2 rounded-full hover:bg-[var(--active-bg-main)]" title="æ”¶åˆ/å±•é–‹ç›®éŒ„">
                        <svg id="sidebar-toggle-icon" class="w-6 h-6 text-[var(--icon-fill)] transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/></svg>
                    </button>
                    <button id="menu-btn" class="md:hidden p-2 rounded-full hover:bg-[var(--active-bg-main)] text-[var(--text-main)] cursor-pointer transition-colors" aria-expanded="false">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="var(--icon-fill)"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/></svg>
                    </button>
                </div>
                <div class="flex items-center text-center">
                    <h1 class="text-base font-medium text-[var(--text-main)] opacity-70 truncate mx-4">5-1ï¼šç•¶é è¨€æˆçœŸï¼Œææ‡¼æ‰çœŸæ­£é–‹å§‹ã€‚</h1>
                    <span id="progress-percent" class="text-sm font-mono text-[var(--icon-fill)] w-12 text-left">0%</span>
                </div>
                <div class="flex items-center space-x-1">
                    <!-- ã€æ–°å¢ã€‘å…¨è¢å¹•æŒ‰éˆ• -->
                    <button id="fullscreen-btn" class="p-2 rounded-full hover:bg-[var(--active-bg-main)] transition-colors" title="å…¨è¢å¹•">
                        <svg id="fullscreen-enter-icon" class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.5 2A1.5 1.5 0 003 3.5v3A1.5 1.5 0 004.5 8h3A1.5 1.5 0 009 6.5v-3A1.5 1.5 0 007.5 2h-3zM3 13.5A1.5 1.5 0 014.5 12h3a1.5 1.5 0 011.5 1.5v3A1.5 1.5 0 017.5 18h-3A1.5 1.5 0 013 16.5v-3zM12 3.5A1.5 1.5 0 0113.5 2h3A1.5 1.5 0 0118 3.5v3A1.5 1.5 0 0116.5 8h-3A1.5 1.5 0 0112 6.5v-3zM13.5 12A1.5 1.5 0 0012 13.5v3a1.5 1.5 0 001.5 1.5h3a1.5 1.5 0 001.5-1.5v-3A1.5 1.5 0 0016.5 12h-3z" clip-rule="evenodd" /></svg>
                        <svg id="fullscreen-exit-icon" class="w-5 h-5 hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M2 5.5A1.5 1.5 0 013.5 4h3A1.5 1.5 0 018 5.5v3A1.5 1.5 0 016.5 10h-3A1.5 1.5 0 012 8.5v-3zM12 5.5A1.5 1.5 0 0113.5 4h3A1.5 1.5 0 0118 5.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 0112 8.5v-3zM3.5 12A1.5 1.5 0 002 13.5v3A1.5 1.5 0 003.5 18h3A1.5 1.5 0 008 16.5v-3A1.5 1.5 0 006.5 12h-3zM13.5 12a1.5 1.5 0 00-1.5 1.5v3a1.5 1.5 0 001.5 1.5h3a1.5 1.5 0 001.5-1.5v-3a1.5 1.5 0 00-1.5-1.5h-3z" clip-rule="evenodd" /></svg>
                    </button>
                    <div class="relative">
                        <button id="setting-toggle-btn" class="setting-btn p-2 rounded-full hover:bg-[var(--active-bg-main)] transition-colors" title="é–±è®€è¨­å®š" aria-haspopup="true" aria-expanded="false">
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z" /></svg>
                        </button>
                        <div id="setting-panel" class="hidden absolute right-0 mt-2 w-64 bg-[var(--bg-main)] rounded-lg shadow-lg border border-[var(--border-main)] p-4 z-20" role="menu">
                            <!-- å­—é«”å¤§å° -->
                            <div class="grid grid-cols-2 gap-x-4 gap-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-[var(--text-main)] mb-2">å­—é«”å¤§å°</label>
                                    <div class="flex justify-between items-center">
                                        <button data-action="set-font-size" data-value="sm" class="setting-option-btn">å°</button>
                                        <button data-action="set-font-size" data-value="md" class="setting-option-btn">ä¸­</button>
                                        <button data-action="set-font-size" data-value="lg" class="setting-option-btn">å¤§</button>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-[var(--text-main)] mb-2">å­—é«”é¢¨æ ¼</label>
                                    <div class="flex justify-between items-center">
                                        <button data-action="set-font-family" data-value="serif" class="setting-option-btn">è¥¯ç·š</button>
                                        <button data-action="set-font-family" data-value="sans" class="setting-option-btn">éè¥¯ç·š</button>
                                    </div>
                                </div>
                                <!-- ã€æ–°å¢ã€‘è¡Œé«˜ -->
                                <div>
                                    <label class="block text-sm font-medium text-[var(--text-main)] mb-2">è¡Œé«˜</label>
                                    <div class="flex justify-between items-center">
                                        <button data-action="set-line-height" data-value="tight" class="setting-option-btn">ç·Šæ¹Š</button>
                                        <button data-action="set-line-height" data-value="normal" class="setting-option-btn">æ¨™æº–</button>
                                        <button data-action="set-line-height" data-value="loose" class="setting-option-btn">å¯¬é¬†</button>
                                    </div>
                                </div>
                                <!-- ã€æ–°å¢ã€‘å­—è· -->
                                <div>
                                    <label class="block text-sm font-medium text-[var(--text-main)] mb-2">å­—è·</label>
                                    <div class="flex justify-between items-center">
                                        <button data-action="set-letter-spacing" data-value="tight" class="setting-option-btn">ç·Šæ¹Š</button>
                                        <button data-action="set-letter-spacing" data-value="normal" class="setting-option-btn">æ¨™æº–</button>
                                        <button data-action="set-letter-spacing" data-value="loose" class="setting-option-btn">å¯¬é¬†</button>
                                    </div>
                                </div>
                                <!-- ã€æ–°å¢ã€‘é é¢é‚Šè· -->
                                <div class="col-span-2">
                                    <label class="block text-sm font-medium text-[var(--text-main)] mb-2">é é¢é‚Šè·</label>
                                    <div class="flex justify-between items-center">
                                        <button data-action="set-page-margin" data-value="narrow" class="setting-option-btn">çª„</button>
                                        <button data-action="set-page-margin" data-value="normal" class="setting-option-btn">ä¸­</button>
                                        <button data-action="set-page-margin" data-value="wide" class="setting-option-btn">å¯¬</button>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-[var(--border-main)]">
                                <label for="remember-position-toggle" class="flex justify-between items-center cursor-pointer">
                                    <span class="text-sm font-medium text-[var(--text-main)]">è¨˜ä½é–±è®€ä½ç½®</span>
                                    <div class="relative">
                                        <input type="checkbox" id="remember-position-toggle" class="sr-only peer">
                                        <div class="w-10 h-6 bg-slate-300 rounded-full peer-checked:bg-blue-500 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"></div>
                                    </div>
                                </label>
                            </div>
                        </div>
                         <style>.setting-option-btn { flex-grow: 1; text-align: center; padding: 4px 8px; border-radius: 999px; font-size: 0.875rem; background-color: transparent; border: 1px solid var(--border-main); color: var(--link-main); transition: all 0.2s; } .setting-option-btn:not(:last-child) { margin-right: 4px; } .setting-option-btn.active, .setting-option-btn:hover { background-color: var(--active-bg-main); color: var(--text-main); border-color: var(--link-main); }</style>
                    </div>
                    <button data-theme="paper" class="theme-switcher-btn p-2 rounded-full hover:bg-[var(--active-bg-main)] transition-colors" title="æ—¥é–“æ¨¡å¼"><svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.02-.39-1.41 0l-1.42 1.42c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l1.42-1.42c.39-.39.39-1.02 0-1.41zm13.42 13.42c-.39-.39-1.02-.39-1.41 0l-1.42 1.42c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l1.42-1.42c.39-.39.39-1.02 0-1.41zM20.42 5.99c.39-.39.39-1.02 0-1.41l-1.42-1.42c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.42 1.42c.39.39 1.02.39 1.41 0zM4.58 19.41c.39-.39.39-1.02 0-1.41l-1.42-1.42c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.42 1.42c.39.39 1.02.39 1.41 0z"/></svg></button>
                    <button data-theme="sepia" class="theme-switcher-btn p-2 rounded-full hover:bg-[var(--active-bg-main)] transition-colors" title="æ‡·èˆŠæ¨¡å¼"><svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"/></svg></button>
                    <button data-theme="night" class="theme-switcher-btn p-2 rounded-full hover:bg-[var(--active-bg-main)] transition-colors" title="å¤œé–“æ¨¡å¼"><svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.64-.11 2.4-.31-.3-.13-.59-.29-.87-.48-.69-.48-1.29-1.12-1.72-1.85C11.23 17.5 11 16.78 11 16c0-2.21 1.79-4 4-4 .78 0 1.5.23 2.15.62.73.43 1.37 1.03 1.85 1.72.19.28.35.57.48.87.2-.76.31-1.57.31-2.4 0-4.97-4.03-9-9-9z"/></svg></button>
                </div>
            </header>
            
            <div id="content-container" class="flex-1 relative overflow-y-auto">
                <div id="menu" class="md:hidden fixed inset-0 bg-[var(--bg-main)] p-0 w-72 h-full shadow-lg transition-transform duration-300 ease-in-out transform -translate-x-full z-30 flex flex-col">
                    <div class="p-4 border-b border-[var(--border-main)] flex-shrink-0">
                         <a href="../index.html" class="flex items-center gap-2 text-[var(--link-main)] hover:text-[var(--text-main)] transition-colors duration-300 font-medium">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
                            è¿”å›æ›¸åº«
                        </a>
                    </div>
                    <!-- ã€æ–°å¢ã€‘æ‰‹æ©Ÿç‰ˆç« ç¯€æœå°‹æ¡† -->
                    <div class="p-4 border-b border-[var(--border-main)]">
                         <input type="search" id="mobile-chapter-search" placeholder="æœå°‹ç« ç¯€..." class="w-full px-3 py-2 text-sm bg-transparent border border-[var(--border-main)] rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none text-[var(--text-main)] placeholder-[var(--link-main)]">
                    </div>
                    <div id="mobile-chapter-list-container" class="flex-1 p-4 overflow-y-auto">
                        <h2 class="text-xl font-bold mb-4 text-[var(--text-main)]">å¤¢å¢ƒæ™‚å·®ï¼šä¸ƒå°è¬ä¿¡</h2>
                        <nav id="mobile-chapter-list"></nav>
                    </div>
                </div>
                <div id="menu-overlay" class="md:hidden fixed inset-0 bg-black bg-opacity-25 z-20 opacity-0 pointer-events-none transition-opacity duration-300 cursor-pointer"></div>

                <article id="content-area" class="p-6 md:p-12 prose max-w-2xl mx-auto">
                    <h1 class="text-3xl md:text-4xl font-bold mb-2 !text-[var(--text-main)] text-center">5-1ï¼šç•¶é è¨€æˆçœŸï¼Œææ‡¼æ‰çœŸæ­£é–‹å§‹ã€‚</h1>
                    <p class="text-lg italic text-[var(--text-main)] opacity-75 mt-2 mb-10 text-center font-serif"># æˆ‘å€‘æ˜¯å…ˆçŸ¥ï¼Œé‚„æ˜¯è¢«åˆ©ç”¨çš„å·¥å…·ï¼Ÿ</p>
                    <p class="mb-6 leading-loose tracking-wide">ã€åˆ†å ´æ¨™èªã€‘
ç•¶é è¨€æˆçœŸï¼Œææ‡¼æ‰çœŸæ­£é–‹å§‹ã€‚</p><p class="mb-6 leading-loose tracking-wide">å‡Œæ™¨ä¸‰é»é›¶å››åˆ†ã€‚</p><p class="mb-6 leading-loose tracking-wide">æ¼†é»‘çš„å·¥ä½œå®¤è£¡ï¼Œå”¯ä¸€çš„å…‰æºæ˜¯è¢å¹•ç™¼å‡ºçš„å¹½è—å¾®å…‰ã€‚è€åº¦åƒä¸€å°Šè¢«æ™‚é–“éºå¿˜çš„é›•åƒï¼Œååœ¨é›»ç«¶æ¤…ä¸Šï¼Œèº«å½¢åƒµç¡¬ã€‚ä»–å·²ç¶“é€£çºŒç¬¬ä¸‰æ™šæ²’èƒ½å¥½å¥½é—”çœ¼ï¼Œçœ¼åº•çš„è¡€çµ²çˆ¬æ»¿äº†ç–²æ†Šã€‚</p><p class="mb-6 leading-loose tracking-wide">è¢å¹•ä¸Šé–ƒçˆè‘—çš„ï¼Œä¸æ˜¯ç†Ÿæ‚‰çš„å‰ªè¼¯è»Ÿé«”ï¼Œä¹Ÿä¸æ˜¯ç†±çµ¡çš„ç›´æ’­èŠå¤©å®¤ï¼Œè€Œæ˜¯ä¸€é é ä»¤äººé ­çš®ç™¼éº»çš„ç¤¾ç¾¤ç•™è¨€æ“·åœ–ï¼Œèˆ‡ä¸€å°å°æœªè®€ä¿¡ä»¶çš„é€šçŸ¥ã€‚è¨Šæ¯åƒæ½®æ°´ä¸€æ¨£ç˜‹ç‹‚æ¹§å…¥ï¼Œæ—©å·²æ·¹æ²’äº†æ­£å¸¸çš„ç•Œç·šï¼Œä»–ç”šè‡³åˆ†ä¸æ¸…è‡ªå·±æ˜¯åœ¨çœ‹æ¨ç‰¹ã€PTTé‚„æ˜¯Discordã€‚</p><p class="mb-6 leading-loose tracking-wide">ğŸ¬ç•«é¢æ‹‰è¿‘ï¼Œç‰¹å¯«è€åº¦ä¹¾è£‚çš„å˜´å”‡èˆ‡ç©ºæ´çš„é›™çœ¼ã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€ç•™è¨€å€ã€‘</p><p class="mb-6 leading-loose tracking-wide">@EyeOfDreamsï¼š ğŸ˜® åª½å‘€ï¼Œé‚£å€‹é è¨€æ˜¯çœŸçš„ï¼ç¾è‚¡çœŸçš„æ‡‰è²å´©ç›¤äº†ï¼ä½ å€‘æ˜¯ç¥çš„ä»£è¨€äººé‚„æ˜¯ç½é›£çš„å‚³ä¿¡è€…ï¼Ÿé€™é »é“æ˜¯é è¨€å®¶é‚„æ˜¯è©›å’’ï¼Ÿ</p><p class="mb-6 leading-loose tracking-wide">@DoomWatcher87ï¼š ğŸ¤¡ æ—©å°±èªªéé€™æ˜¯æ“æ§äººå¿ƒçš„è³‡è¨Šæˆ°ï¼è€åº¦å’Œè€Kæ ¹æœ¬å°±æ˜¯ã€Œå¤¢å¢ƒææ€–ä»½å­ã€ï¼Œä»–å€‘å°±æ˜¯èƒŒå¾Œçš„è—é¡äººï¼</p><p class="mb-6 leading-loose tracking-wide">@è¿½å¤¢é»‘æ‰‹ï¼š ğŸ˜¨ é€™æ”¯é »é“å·²ç¶“ä¸å®‰å…¨äº†ã€‚æˆ‘è¨˜å¾—ç¬¬ä¸‰å°ä¿¡èªªè·Ÿäºæ´²æœ‰é—œï¼Ÿå—éŸ“æœƒæ€æ¨£ï¼Ÿå°ç£å‘¢ï¼Ÿä½ å€‘æ€éº¼ä¸èªªè©±äº†ï¼Ÿ</p><p class="mb-6 leading-loose tracking-wide">@ChirpingAntsï¼š ğŸ¤‘ ä½ å€‘æ˜¯ä¸æ˜¯æ”¶äº†éŒ¢ï¼Œè·Ÿç©ºé ­é›†åœ˜åˆä½œæ”¾è©±ï¼Ÿæ‹¿è­‰æ“šå‡ºä¾†å•Šï¼æˆ‘æœ‹å‹ç‚’è‚¡è³ å…‰äº†ï¼</p><p class="mb-6 leading-loose tracking-wide">@JustKiddingï¼š ğŸ˜‚ æ­å–œè€åº¦è€Kæˆç‚ºæ–°ä¸€ä»£ä¸–ç•Œç´šç¶²ç´…ï¼æµé‡å¯†ç¢¼ä¸æ˜¯å¤¢å¢ƒï¼Œæ˜¯ææ‡¼ï¼</p><p class="mb-6 leading-loose tracking-wide">@RR_is_Realï¼š ğŸ™ æ„Ÿè¬ç¥è«­ï¼æˆ‘æ—©å°±èªªäº†RRæ˜¯çœŸå¯¦çš„ï¼Œä½ å€‘é€™äº›ä¸ä¿¡çš„äººç¾åœ¨çŸ¥é“éŒ¯äº†å§ï¼</p><p class="mb-6 leading-loose tracking-wide">è€åº¦ç·Šç·Šæ¡è‘—æ‰‹ä¸­æ—©å·²æ¶¼é€çš„å’–å•¡æ¯ï¼ŒæŒ‡ç¯€ç™¼ç™½ã€‚ä»–æ„Ÿè¦ºè‡ªå·±ä¸æ˜¯åœ¨çœ‹ç•™è¨€ï¼Œè€Œæ˜¯åœ¨çœ‹ä¸€é¢é¢æ‰­æ›²çš„äººå¿ƒé¡å­ã€‚ä»–æ²’æœ‰è¡å‹•åœ°ç ¸çˆ›éµç›¤ï¼Œè€Œæ˜¯æ·±å¸ä¸€å£æ°£ï¼Œå¼·è¿«è‡ªå·±å†·éœä¸‹ä¾†ã€‚ä»–æ˜¯ä¸€å€‹èªªæ›¸äººï¼Œä¸€å€‹å…§å®¹å‰µä½œè€…ï¼Œä»–ç›¸ä¿¡é‚è¼¯èˆ‡è­‰æ“šã€‚è€Œç¾åœ¨ï¼Œä»–éœ€è¦æ‰¾åˆ°é€™å ´ç˜‹ç‹‚èƒŒå¾Œçš„ã€Œé‚è¼¯ã€ã€‚</p><p class="mb-6 leading-loose tracking-wide">ç‰†ä¸Šçš„ç™¾è¬è¨‚é–±çç‰Œï¼Œåœ¨çª—å¤–ä¸€é–ƒå³é€çš„é›·å…‰ä¸­åå°„å‡ºåˆºçœ¼çš„å¾®å…‰ï¼Œæ˜ ç…§åœ¨ä»–ç–²æ†Šä¹¾è£‚çš„çœ¼ç›è£¡ï¼Œåƒä¸€å€‹å·¨å¤§çš„è«·åˆºã€‚</p><p class="mb-6 leading-loose tracking-wide">æ›¾å¹¾ä½•æ™‚ï¼Œé€™å€‹çç‰Œæ˜¯æ‰€æœ‰ã€Œå®…ã€çš„æ¦®å…‰ï¼Œè­‰æ˜äº†ä»–å€‘çš„æ•…äº‹èƒ½è¢«æ•¸ç™¾è¬äººçœ‹è¦‹ã€‚ä½†ç¾åœ¨ï¼Œä»–è¦ºå¾—é€™çç‰Œåƒä¸€å€‹è©›å’’ï¼Œå°‡ä»–å’Œè€Ké‡˜åœ¨ä¸€å€‹å…¨çƒæ€§çš„èˆå°ä¸Šã€‚é‚£å ´ç›´æ’­ï¼Œå› ç‚ºRRé è¨€ä¸­å¼•ç”¨çš„ã€Œä¸‰é‡ç½é›£æ¨¡å‹ã€æˆåŠŸé æ¸¬äº†ç¾è‚¡å¤§å´©ç›¤ï¼Œæˆäº†å…¨çƒçš„è©±é¡Œç„¦é»ã€‚</p><p class="mb-6 leading-loose tracking-wide">é€™ä¸æ˜¯ã€Œé»é–±ç‡çˆ†ç´…ã€ï¼Œé€™æ˜¯ä¸€ç¨®ã€Œå…¨çƒç´šçš„ç›£æ§ã€ã€‚</p><p class="mb-6 leading-loose tracking-wide">è€åº¦æ‹¿èµ·æ‰‹æ©Ÿï¼Œæ’¥é€šäº†è€Kçš„é›»è©±ã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€Œè€Kï¼Œä½ ç¡äº†å—ï¼Ÿã€ä»–çš„è²éŸ³å¸¶è‘—æ²™å•èˆ‡ç–²æ†Šã€‚</p><p class="mb-6 leading-loose tracking-wide">é›»è©±é‚£é ­å‚³ä¾†ä¸€é™£é›œéŸ³ï¼Œä¼´éš¨è‘—è€Kèˆˆå¥®çš„è²éŸ³ï¼šã€Œæ²’å•Šï¼æ€éº¼å¯èƒ½ç¡å¾—è‘—ï¼è€åº¦ä½ å¿«çœ‹ï¼Œæˆ‘å€‘ç¾åœ¨åœ¨ã€å¤¢å¢ƒè§€å¯Ÿè€…è¯ç›Ÿã€‘ç¾¤çµ„è£¡æ˜¯ç¥ï¼å¤§å®¶éƒ½åœ¨å«æˆ‘ç¸½æŒ‡æ®ï¼ã€</p><p class="mb-6 leading-loose tracking-wide">è€Kçš„è²éŸ³èƒŒæ™¯ï¼Œéš±ç´„å‚³ä¾†ä¸€äº›é›»è…¦ç‰¹æ•ˆéŸ³ã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€Œç¸½æŒ‡æ®ï¼Ÿè€Kï¼Œä½ åœ¨æä»€éº¼ï¼Ÿã€è€åº¦çšºçœ‰ã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€Œå˜¿å˜¿ï¼Œæˆ‘åœ¨å¿™å•Šï¼æˆ‘å‰›è¨­è¨ˆäº†ä¸€å€‹ Logoï¼Œä½ ç­‰ç­‰å»çœ‹ï¼æˆ‘é‚„è«‹äº†å¹¾å€‹æœƒç¹ªåœ–çš„ç²‰çµ²å¹«å¿™åšè²¼åœ–ï¼Œè¶…è®šçš„ï¼ç¾åœ¨ç¾¤çµ„äººå·²ç¶“è¶…éä¸€è¬äº†ï¼Œæˆ‘æ­£æº–å‚™é–‹å€‹å­é »é“ï¼Œå°ˆé–€åšå¤¢å¢ƒè¨“ç·´æ•™å­¸ï¼ã€</p><p class="mb-6 leading-loose tracking-wide">è€Kçš„èªæ°£å……æ»¿äº†å‰æ‰€æœªæœ‰çš„è‡ªä¿¡ï¼Œé‚£ç¨®è‡ªä¿¡å®Œå…¨å–ä»£äº†ä»–éå¾€çš„ã€Œåæ§½æ“”ç•¶ã€èˆ‡ã€Œæç¬‘ã€æ°£è³ªã€‚é€™ä¸€åˆ‡çš„é‹ªå¢Šï¼Œå…¶å¯¦æ—©å·²åœ¨ç¤¾ç¾¤äº’å‹•ä¸­æ‚„æ‚„ç™¼é…µã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€ç•«é¢åˆ‡æ›ã€‘</p><p class="mb-6 leading-loose tracking-wide">é¡é ­åˆ‡æ›åˆ°è€åº¦é›»è…¦è¢å¹•ä¸Šçš„ã€å¤¢å¢ƒè§€å¯Ÿè€…è¯ç›Ÿã€‘Discordç¾¤çµ„ã€‚</p><p class="mb-6 leading-loose tracking-wide">è€Kçš„é ­åƒå·²ç¶“æ›æˆäº†ä»–è‡ªå·±è¨­è¨ˆçš„Logoï¼šä¸€é¡†çœ¼ç›ï¼Œç³å­”æ˜¯ä¸€åœ˜ä¸æ–·æ—‹è½‰çš„æ˜Ÿé›²ï¼Œå‘¨åœæœ‰ä¸‰å€‹èºæ—‹ä¸Šå‡çš„ç¬¦è™Ÿã€‚åœ¨ä¸€å€‹ç½®é ‚çš„å…¬å‘Šä¸­ï¼Œä»–è‡ªç¨±ç‚ºã€Œè§€å¯Ÿè€…è¯ç›Ÿç¸½æŒ‡æ®ã€ï¼Œä¸¦è™Ÿå¬å¤§å®¶æ¯æ—¥åœ¨ã€Œå¤¢å¢ƒæ—¥èªŒã€é »é“è¨˜éŒ„å¤¢ä¸­ç´°ç¯€ï¼Œä»¥æœŸèƒ½ææ—©é çŸ¥ç½é›£ã€‚</p><p class="mb-6 leading-loose tracking-wide">è€åº¦æ²‰é»˜äº†å¹¾ç§’ï¼Œç„¶å¾Œèªæ°£å¹³éœåœ°é–‹å£ï¼šã€Œè€Kï¼Œå†·éœé»ã€‚æˆ‘å€‘ç¾åœ¨çš„è™•å¢ƒå¾ˆä¸å¦™ã€‚ã€</p><p class="mb-6 leading-loose tracking-wide">ä»–é–‹å§‹æ¢ç†æ¸…æ™°åœ°åˆ†æï¼šCNNã€ç´æ™‚ç­‰ä¸»æµåª’é«”çš„å ±å°ï¼Œå„ç¨®ç¤¾ç¾¤å¹³å°ä¸Šçš„è³ªç–‘ï¼Œä»¥åŠé‚£äº›å……æ»¿çµ•æœ›çš„é™Œç”Ÿéƒµä»¶ã€‚ä»–æ²’æœ‰å¸¶ä»»ä½•æƒ…ç·’ï¼Œåªæ˜¯å°‡ä»–æ‰€è§€å¯Ÿåˆ°çš„äº‹å¯¦ï¼Œä¸€ä¸€é™³è¿°çµ¦è€Kã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€Œä½ èªªçš„é€™äº›ï¼Œä¸å°±æ˜¯è­‰æ˜æˆ‘å€‘æœ‰å¤šé‡è¦å—ï¼Ÿæˆ‘å€‘ç¾åœ¨æ˜¯å…¨çƒçš„ç„¦é»ï¼Œæ˜¯å”¯ä¸€çš„å¼•è·¯äººï¼ã€è€Kçš„è²éŸ³è®Šå¾—æ¿€å‹•ã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€Œä½ ä»”ç´°æƒ³æƒ³ï¼Œè€Kã€‚ã€è€åº¦èªæ°£çªç„¶è®Šå¾—å°–éŠ³ï¼Œã€Œä½ åœ¨åšçš„äº‹æƒ…ï¼Œè·ŸRRåšçš„æœ‰ä»€éº¼å€åˆ¥ï¼ŸRRåœ¨ä¿¡ä¸­èªªï¼Œä»–é€éé è¨€ä¾†ã€å¼•å°ã€æˆ‘å€‘ã€‚è€Œä½ ï¼Œç¾åœ¨ä¹Ÿåœ¨ã€å¼•å°ã€é€™ç¾¤ç²‰çµ²ï¼ŒæŠŠä»–å€‘è®Šæˆä½ çš„ã€ä¿¡çœ¾ã€ã€‚ã€</p><p class="mb-6 leading-loose tracking-wide">ã€Œæˆ‘å“ªæœ‰ï¼ã€è€Kçš„è²éŸ³æœ‰äº›å¿ƒè™›ï¼Œä½†å¾ˆå¿«åˆè¢«ç‹‚ç†±å–ä»£ï¼Œã€Œæˆ‘æ˜¯ç‚ºäº†è®“ä»–å€‘è¦ºé†’ï¼ä¸æ˜¯åƒä½ ä¸€æ¨£ï¼Œåªæƒ³ç•¶ä¸€å€‹æ—è§€è€…ï¼æˆ‘å€‘ç¾åœ¨æ‰‹æ¡è‘—ä¸€å€‹è¶³ä»¥è®“ä¸–ç•Œé©šè¨çš„ç§˜å¯†ï¼é€™æ˜¯æˆ‘å€‘çš„æ©Ÿæœƒï¼æˆ‘å€‘è¦åšå¤§äº‹äº†ï¼ã€</p><p class="mb-6 leading-loose tracking-wide">è€åº¦æ²’æœ‰ç†æœƒä»–çš„æ¿€å‹•ï¼Œè€Œæ˜¯ç¹¼çºŒæ‹‹å‡ºé‚è¼¯ç‚¸å½ˆï¼šã€Œæˆ‘å€‘ç¬¬äºŒå°ä¿¡è£¡ï¼ŒRRæåˆ°éã€æ‰˜å¤¢ã€æ˜¯ã€æ½›æ„è­˜è³‡è¨Šæ¤å…¥ã€ï¼Œç›®çš„æ˜¯è®“äººåœ¨ç„¡æ„ä¸­å°‡åˆ¥äººçš„æƒ³æ³•ç•¶æˆè‡ªå·±çš„éˆæ„Ÿã€‚è€Œä½ ç¾åœ¨ï¼Œæ­£åœ¨ç”¨ä½ çš„ã€ç¸½æŒ‡æ®ã€èº«ä»½ï¼Œåœ¨ç²‰çµ²å€‘çš„å¤¢è£¡æ¤å…¥ã€è¦ºé†’ã€çš„ä¿¡å¿µã€‚ä½ ä»¥ç‚ºä½ æ˜¯åœ¨å¼•å°ä»–å€‘ï¼Œä½†æœ‰æ²’æœ‰å¯èƒ½â€¦â€¦ä½ ä¹Ÿåªæ˜¯åœ¨è¢«RRåˆ©ç”¨ï¼Œè®Šæˆä¸€å€‹æ›´å¤§çš„ã€æ‰˜å¤¢ç®¡é“ã€ï¼Ÿã€</p><p class="mb-6 leading-loose tracking-wide">é€™å¥è©±åƒä¸€æŠŠåˆ€ï¼Œç›´æˆ³è€Kçš„ç—›è™•ã€‚é›»è©±é‚£é ­çš„è€Kæ²‰é»˜äº†ï¼Œä»–åŸæœ¬å……æ»¿è‡ªä¿¡çš„èªæ°£ï¼Œæ­¤åˆ»è®Šå¾—æœ‰äº›çµå·´ã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€Œæˆ‘â€¦æˆ‘æ€éº¼å¯èƒ½â€¦é€™æ˜¯æˆ‘è‡ªå·±çš„æƒ³æ³•ï¼ã€</p><p class="mb-6 leading-loose tracking-wide">ã€Œæ˜¯å—ï¼Ÿã€è€åº¦å†·ç¬‘ä¸€è²ï¼Œè²éŸ³å……æ»¿äº†ç–²æ†Šèˆ‡ç„¡åŠ›ï¼Œã€Œä½ ä»”ç´°æƒ³æƒ³ï¼Œã€ç¸½æŒ‡æ®ã€ã€ã€è¦ºé†’è€…ã€ã€ç”šè‡³é‚£å€‹ã€å•Ÿç¤ºä¹‹å¤¢ã€é »é“â€¦é€™äº›ï¼Œæ˜¯æˆ‘å€‘ä»¥å‰æœƒç”¨çš„è©å—ï¼Ÿé€™äº›ï¼Œæ˜¯ä¸æ˜¯è·ŸRRä¿¡ä¸­é‚£ç¨®æ•…ä½œé«˜æ·±çš„ã€é è¨€å®¶ã€é¢¨æ ¼ï¼Œæœ‰æŸç¨®â€¦ç›¸ä¼¼æ€§ï¼Ÿã€</p><p class="mb-6 leading-loose tracking-wide">è€Kçš„å‘¼å¸è²è®Šå¾—æ€¥ä¿ƒã€‚ä»–åŸæœ¬å……æ»¿è‡ªä¿¡çš„ç‹‚ç†±ï¼Œæ­¤åˆ»ä¼¼ä¹å‡ºç¾äº†ä¸€çµ²è£‚ç¸«ã€‚è€åº¦æŠ“ä½äº†é€™å€‹æ©Ÿæœƒï¼Œç¹¼çºŒèªªé“ï¼šã€ŒRRåœ¨ä¿¡ä¸­èªªï¼šã€åƒã€Œå°å“¥å“¥é”å»å¸ã€é€™æ¨£çš„å‰µä½œè€…ï¼Œå¾ˆå¿«å°±æœƒã€Œé æ¸¬æ€§åœ°ã€å›æ‡‰æ‚¨çš„ä¸»é¡Œã€‚é‚£äº›é è¨€æˆ–å˜²è«·ï¼Œå¾ˆå¯èƒ½å°±æ˜¯æŸäº›é€²éšå¤¢å”è€…åœ¨ã€Œé€£å¤¢ã€ä¸­æ¨¡æ“¬éçš„æƒ…å¢ƒã€‚çœ‹ä¼¼éš¨æ©Ÿï¼Œå¯¦å‰‡â€¦â€¦æ—©æœ‰é‹ªé™³ã€‚ã€é€™å¥è©±æ˜¯ä¸æ˜¯å¾ˆè€³ç†Ÿï¼Ÿç¾åœ¨çš„ä½ ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæ­£åœ¨æˆç‚ºä»–åŠ‡æœ¬è£¡çš„ä¸€å€‹è§’è‰²ï¼Ÿä½ ä»¥ç‚ºä½ æ˜¯è‹±é›„ï¼Œä½†ä½ åªæ˜¯åœ¨æˆç‚ºå¦ä¸€å€‹ã€å°å“¥å“¥é”å»å¸ã€ï¼Œä¸€å€‹è¢«æ“æ§çš„ã€æµé‡å·¥å…·ã€ã€‚ã€</p><p class="mb-6 leading-loose tracking-wide">é€™å¥è©±ï¼Œæ¯”ä»»ä½•å°äººæ ¼çš„æ”»æ“Šéƒ½æ›´è‡´å‘½ã€‚è€Kä¸€ç›´é„™è¦–é‚£äº›é è¹­ç†±åº¦ã€å½é€ å…§å®¹çš„å‰µä½œè€…ã€‚è€Œç¾åœ¨ï¼Œè€åº¦å»å°‡ä»–èˆ‡ä¹‹ç›¸æä¸¦è«–ï¼Œé€™ç›´æ¥è¡æ“Šäº†ä»–å°è‡ªæˆ‘åƒ¹å€¼çš„èªåŒã€‚</p><p class="mb-6 leading-loose tracking-wide">é›»è©±é‚£é ­çš„è€Kï¼Œå¾¹åº•æ²‰é»˜äº†ã€‚</p><p class="mb-6 leading-loose tracking-wide">è€åº¦ç–²æ†Šåœ°æ›æ–·äº†é›»è©±ï¼Œä»–æ„Ÿåˆ°ä¸€ç¨®å‰æ‰€æœªæœ‰çš„å­¤ç¨ã€‚ä»–ä¸æ˜¯ä¸ç›¸ä¿¡å¤¢å¢ƒï¼Œè€Œæ˜¯ä¸ç›¸ä¿¡é€™ä¸€åˆ‡ä¾†å¾—å¦‚æ­¤é †åˆ©ï¼Œå¦‚æ­¤ã€Œç†æ‰€ç•¶ç„¶ã€ã€‚
ä»–é–‹å§‹æ‡·ç–‘ï¼Œåœ¨é€™äº›çœ‹ä¼¼çœŸå¯¦çš„ã€Œå·§åˆã€èƒŒå¾Œï¼Œæ˜¯å¦æœ‰ä¸€éš»æ›´å¼·å¤§çš„æ‰‹ï¼Œæ­£åœ¨ç²¾å¿ƒåœ°æ“æ§è‘—ä»–å’Œè€Kï¼Œä»¥åŠæ•´å€‹ä¸–ç•Œã€‚</p><p class="mb-6 leading-loose tracking-wide">ã€é›»è…¦ç•«é¢ä¸€é–ƒã€‘</p><p class="mb-6 leading-loose tracking-wide">ğŸ”” å®å’š!</p><p class="mb-6 leading-loose tracking-wide">ä¾†ä¿¡è€…: O(Ora)</p><p class="mb-6 leading-loose tracking-wide">"ä»Šå¹´æ˜¯ç”ŸåŒ–AIå…ƒå¹´ï¼Œæˆ‘å·²ç¶“è¢«æ”¹é€ äº†..."</p><p class="mb-6 leading-loose tracking-wide">---</p>
                    <div class="flex justify-between mt-12 pt-6 border-t border-[var(--border-main)]"><a href="chapter_chapter05.html" id="prev-page-link" class="nav-btn">â† ä¸Šä¸€ç¯€</a><a href="chapter_chapter05-2.html" id="next-page-link" class="nav-btn">ä¸‹ä¸€ç¯€ â†’</a></div>
                </article>
            </div>
        </main>
    </div>

    <div class="fixed bottom-6 right-6 z-20 flex flex-col gap-3">
        <button id="scroll-to-top" class="fab-btn hidden" title="å›åˆ°é ‚éƒ¨">
            <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4l-8 8h5v8h6v-8h5l-8-8z"/></svg>
        </button>
        <button id="scroll-to-bottom" class="fab-btn" title="å‰å¾€åº•éƒ¨">
            <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 20l8-8h-5V4h-6v8H4l8 8z"/></svg>
        </button>
    </div>
    <style>.fab-btn { background-color: var(--active-bg-main); color: var(--icon-fill); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: all 0.3s ease; } .fab-btn:hover { transform: scale(1.1); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }</style>
    
    <div id="last-read-toast" class="hidden fixed bottom-6 left-1/2 -translate-x-1/2 bg-[var(--bg-main)] text-[var(--text-main)] px-6 py-3 rounded-lg shadow-xl border border-[var(--border-main)] z-30 flex items-center gap-4">
        <p class="text-sm">è¦è·³è½‰è‡³ä¸Šæ¬¡é–±è®€çš„ä½ç½®å—ï¼Ÿ</p>
        <a id="last-read-link" href="#" class="font-bold text-blue-500 text-sm hover:underline">è·³è½‰</a>
        <button id="last-read-close" class="text-[var(--icon-fill)] hover:text-[var(--text-main)]">&times;</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- å¸¸æ•¸èˆ‡å…ƒç´ å®£å‘Š ---
            const NOVEL_ID = document.body.dataset.novelId;
            const appContainer = document.getElementById('app-container');
            const contentContainer = document.getElementById('content-container');
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('menu');
            const overlay = document.getElementById('menu-overlay');
            const sidebarToggleBtn = document.getElementById('sidebar-toggle-btn');
            const sidebarToggleIcon = document.getElementById('sidebar-toggle-icon');
            const scrollToTopBtn = document.getElementById('scroll-to-top');
            const scrollToBottomBtn = document.getElementById('scroll-to-bottom');
            const progressBar = document.getElementById('progress-bar');
            const progressPercent = document.getElementById('progress-percent');
            const settingToggleBtn = document.getElementById('setting-toggle-btn');
            const settingPanel = document.getElementById('setting-panel');
            const lastReadToast = document.getElementById('last-read-toast');
            const lastReadLink = document.getElementById('last-read-link');
            const lastReadClose = document.getElementById('last-read-close');
            const header = document.querySelector('header');
            const rememberPositionToggle = document.getElementById('remember-position-toggle');
            const desktopNav = document.getElementById('chapter-list');
            const mobileNavContainer = document.getElementById('mobile-chapter-list');
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const fullscreenEnterIcon = document.getElementById('fullscreen-enter-icon');
            const fullscreenExitIcon = document.getElementById('fullscreen-exit-icon');
            const desktopChapterSearch = document.getElementById('desktop-chapter-search');
            const mobileChapterSearch = document.getElementById('mobile-chapter-search');

            // --- å‡½å¼å®šç¾© ---

            const getSettings = () => JSON.parse(localStorage.getItem('readingSettings')) || { 
                size: 'md', family: 'serif', rememberPosition: false,
                lineHeight: 'normal', letterSpacing: 'normal', pageMargin: 'normal'
            };

            const saveReadingSetting = (key, value) => {
                const settings = getSettings();
                settings[key] = value;
                localStorage.setItem('readingSettings', JSON.stringify(settings));
                applyReadingSettings();
            };
            
            const applyReadingSettings = () => {
                const settings = getSettings();
                const classPrefixes = ['font-size-', 'font-family-', 'line-height-', 'letter-spacing-', 'page-margin-'];
                const newClasses = [
                    `font-size-${settings.size}`,
                    `font-family-${settings.family}`,
                    `line-height-${settings.lineHeight}`,
                    `letter-spacing-${settings.letterSpacing}`,
                    `page-margin-${settings.pageMargin}`
                ];

                // æ¸…ç†èˆŠçš„ class
                const bodyClassList = document.body.classList;
                bodyClassList.forEach(cls => {
                    if (classPrefixes.some(prefix => cls.startsWith(prefix))) {
                        bodyClassList.remove(cls);
                    }
                });
                
                // æ·»åŠ æ–°çš„ class
                document.body.classList.add(...newClasses);

                // æ›´æ–°è¨­å®šé¢æ¿æŒ‰éˆ•ç‹€æ…‹
                document.querySelectorAll('[data-action]').forEach(btn => {
                    const [action, key] = btn.dataset.action.split('-');
                    const settingKey = key === 'fontsize' ? 'size' : key === 'fontfamily' ? 'family' : key === 'lineheight' ? 'lineHeight' : key === 'letterspacing' ? 'letterSpacing' : 'pageMargin';
                    if (settings[settingKey] === btn.dataset.value) {
                         btn.classList.add('active');
                    } else {
                         btn.classList.remove('active');
                    }
                });
                
                if (rememberPositionToggle) {
                    rememberPositionToggle.checked = !!settings.rememberPosition;
                }
            };

            const setTheme = (theme) => {
                document.body.className = document.body.className.replace(/theme-\w+/g, '');
                document.body.classList.add(`theme-${theme}`);
                localStorage.setItem('readingTheme', theme);
                document.querySelectorAll('.theme-switcher-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.theme === theme);
                });
            };
            
            const toggleMenu = (forceClose = false) => {
                const isOpen = !mobileMenu.classList.contains('-translate-x-full');
                if (forceClose || isOpen) {
                    mobileMenu.classList.add('-translate-x-full');
                    overlay.classList.add('opacity-0', 'pointer-events-none');
                    menuBtn.setAttribute('aria-expanded', 'false');
                } else {
                    mobileMenu.classList.remove('-translate-x-full');
                    overlay.classList.remove('opacity-0', 'pointer-events-none');
                    menuBtn.setAttribute('aria-expanded', 'true');
                }
            };
            
            const setupChapterToggles = (containerSelector) => {
                const container = document.querySelector(containerSelector);
                if (!container) return;
                container.addEventListener('click', (e) => {
                    const chevronBtn = e.target.closest('.chevron-btn');
                    if (chevronBtn) {
                        e.preventDefault();
                        const targetId = chevronBtn.dataset.toggleTarget;
                        const targetElement = document.getElementById(targetId);
                        const chevronIcon = chevronBtn.querySelector('.chevron-icon');
                        if (targetElement) {
                            const isHidden = targetElement.classList.toggle('hidden');
                            chevronIcon.classList.toggle('rotate-90');
                            chevronBtn.setAttribute('aria-expanded', String(!isHidden));
                        }
                    }
                });
            };

            // ã€æ–°å¢ã€‘å…¨è¢å¹•åŠŸèƒ½
            const toggleFullScreen = () => {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);
                    });
                } else {
                    document.exitFullscreen();
                }
            };

            const updateFullscreenIcons = () => {
                if (document.fullscreenElement) {
                    fullscreenEnterIcon.classList.add('hidden');
                    fullscreenExitIcon.classList.remove('hidden');
                } else {
                    fullscreenEnterIcon.classList.remove('hidden');
                    fullscreenExitIcon.classList.add('hidden');
                }
            };

            // ã€æ–°å¢ã€‘ç« ç¯€æœå°‹åŠŸèƒ½
            const filterChapters = (query, navContainer) => {
                const lowerCaseQuery = query.toLowerCase().trim();
                const chapterLinks = navContainer.querySelectorAll('a.chapter-link');
                const chapterGroups = navContainer.querySelectorAll('.chapter-group');

                chapterGroups.forEach(group => {
                    const linksInGroup = group.querySelectorAll('a.chapter-link');
                    let groupHasMatch = false;
                    linksInGroup.forEach(link => {
                        const title = link.textContent.toLowerCase();
                        const isMatch = title.includes(lowerCaseQuery);
                        if (isMatch) {
                            groupHasMatch = true;
                        }
                        // å°å­é …ç›®é€²è¡Œé¡¯ç¤º/éš±è—
                        if (link.parentElement.classList.contains('sub-nav-container')) {
                            link.style.display = isMatch ? 'block' : 'none';
                        }
                    });
                    
                    // æ ¹æ“šæ˜¯å¦æœ‰åŒ¹é…é …ä¾†æ±ºå®šæ•´å€‹ç¾¤çµ„çš„é¡¯ç¤º/éš±è—
                    group.style.display = groupHasMatch ? 'block' : 'none';
                });
            };


            // --- åˆå§‹åŒ–èˆ‡äº‹ä»¶ç¶å®š ---

            // 1. åˆå§‹åŒ–ä¸»é¡Œå’Œé–±è®€è¨­å®š
            const currentTheme = localStorage.getItem('readingTheme') || 'paper';
            setTheme(currentTheme);
            applyReadingSettings();

            // 2. è¤‡è£½ä¸¦ä¿®æ­£æ‰‹æ©Ÿç‰ˆç›®éŒ„
            if (desktopNav && mobileNavContainer) {
                mobileNavContainer.innerHTML = desktopNav.innerHTML;
                mobileNavContainer.querySelectorAll('[id]').forEach(el => {
                    el.id = 'mobile-' + el.id;
                });
                mobileNavContainer.querySelectorAll('[data-toggle-target]').forEach(el => {
                    el.dataset.toggleTarget = 'mobile-' + el.dataset.toggleTarget;
                });
            }

            // 3. å´é‚Šæ¬„æ”¶åˆ
            const updateSidebarIcon = (isCollapsed) => {
                sidebarToggleIcon.style.transform = isCollapsed ? 'rotate(180deg)' : 'rotate(0deg)';
            };
            const isSidebarCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
            if (isSidebarCollapsed) appContainer.classList.add('sidebar-collapsed');
            updateSidebarIcon(isSidebarCollapsed);
            sidebarToggleBtn.addEventListener('click', () => {
                const collapsed = appContainer.classList.toggle('sidebar-collapsed');
                localStorage.setItem('sidebarCollapsed', collapsed);
                updateSidebarIcon(collapsed);
            });

            // 4. æ‰‹æ©Ÿç‰ˆé¸å–®
            menuBtn.addEventListener('click', () => toggleMenu());
            overlay.addEventListener('click', () => toggleMenu(true));
            mobileMenu.addEventListener('click', (e) => {
                if (e.target.closest('a')) {
                    toggleMenu(true);
                }
            });
            
            // 5. ç›®éŒ„æ”¶åˆ
            setupChapterToggles('#chapter-list');
            setupChapterToggles('#mobile-chapter-list');

            // 6. é–±è®€é€²åº¦ & è¨˜æ†¶ä½ç½®
            let scrollTimeout;
            const lastReadStorageKey = `lastRead_${NOVEL_ID}`;
            contentContainer.addEventListener('scroll', () => {
                const scrollableHeight = contentContainer.scrollHeight - contentContainer.clientHeight;
                const scrollTop = contentContainer.scrollTop;
                const percent = scrollableHeight > 0 ? (scrollTop / scrollableHeight) * 100 : 0;
                
                progressBar.style.width = `${percent}%`;
                progressPercent.textContent = `${Math.round(percent)}%`;
                scrollToTopBtn.classList.toggle('hidden', scrollTop <= 200);

                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    if (getSettings().rememberPosition) {
                        localStorage.setItem(lastReadStorageKey, JSON.stringify({
                            href: window.location.pathname,
                            scrollTop: scrollTop,
                        }));
                    }
                }, 500);
            });

            if (getSettings().rememberPosition) {
                const lastReadData = JSON.parse(localStorage.getItem(lastReadStorageKey));
                if (lastReadData && lastReadData.href) {
                    const currentPage = window.location.pathname.split('/').pop();
                    const lastReadPage = lastReadData.href.split('/').pop();
                    if (currentPage === lastReadPage) {
                        setTimeout(() => contentContainer.scrollTo({ top: lastReadData.scrollTop, behavior: 'auto' }), 100);
                    } else {
                        lastReadLink.href = lastReadData.href;
                        lastReadToast.classList.remove('hidden');
                    }
                }
            }
            lastReadClose.addEventListener('click', () => lastReadToast.classList.add('hidden'));

            // 7. æµ®å‹•æŒ‰éˆ•
            scrollToTopBtn.addEventListener('click', () => contentContainer.scrollTo({ top: 0, behavior: 'smooth' }));
            scrollToBottomBtn.addEventListener('click', () => contentContainer.scrollTo({ top: contentContainer.scrollHeight, behavior: 'smooth' }));
            
            // 8. éµç›¤å°è¦½
            document.addEventListener('keydown', (e) => {
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
                const prevLink = document.querySelector('link[rel="prev"]');
                const nextLink = document.querySelector('link[rel="next"]');
                if (e.key === 'ArrowLeft' && prevLink?.href) window.location.href = prevLink.href;
                if (e.key === 'ArrowRight' && nextLink?.href) window.location.href = nextLink.href;
            });

            // 9. è¨­å®šé¢æ¿ã€ä¸»é¡Œåˆ‡æ›ã€å…¨è¢å¹•
            header.addEventListener('click', (e) => {
                const themeBtn = e.target.closest('.theme-switcher-btn');
                if (themeBtn && themeBtn.dataset.theme) {
                    setTheme(themeBtn.dataset.theme);
                }
            });
            settingToggleBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                const isHidden = settingPanel.classList.toggle('hidden');
                settingToggleBtn.setAttribute('aria-expanded', !isHidden);
            });
            document.addEventListener('click', (e) => {
                if (!settingPanel.contains(e.target) && !settingToggleBtn.contains(e.target)) {
                    settingPanel.classList.add('hidden');
                    settingToggleBtn.setAttribute('aria-expanded', 'false');
                }
            });
            settingPanel.addEventListener('click', (e) => {
                const btn = e.target.closest('[data-action]');
                if (btn) {
                    const { action, value } = btn.dataset;
                    const settingMap = {
                        'set-font-size': 'size', 'set-font-family': 'family',
                        'set-line-height': 'lineHeight', 'set-letter-spacing': 'letterSpacing',
                        'set-page-margin': 'pageMargin'
                    };
                    if(settingMap[action]) {
                        saveReadingSetting(settingMap[action], value);
                    }
                }
            });
            rememberPositionToggle.addEventListener('change', (e) => {
                saveReadingSetting('rememberPosition', e.target.checked);
            });
            fullscreenBtn.addEventListener('click', toggleFullScreen);
            document.addEventListener('fullscreenchange', updateFullscreenIcons);

            // 10. ç« ç¯€æœå°‹
            desktopChapterSearch.addEventListener('input', (e) => filterChapters(e.target.value, desktopNav));
            mobileChapterSearch.addEventListener('input', (e) => filterChapters(e.target.value, mobileNavContainer));


            // 11. PWA
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('./service-worker.js')
                        .then(reg => console.log('ServiceWorker registration successful.', reg))
                        .catch(err => console.log('ServiceWorker registration failed: ', err));
                });
            }
        });
    </script>
</body>
</html>
